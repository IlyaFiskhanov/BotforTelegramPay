# Описание проекта

Этот проект представляет собой Telegram-бота, который предоставляет платную подписку на канал с возможностью выдачи уникальных номеров для доступа к контенту. Бот автоматически обрабатывает платежи, отслеживает подписки, ведет базу данных пользователей и отправляет уведомления администратору.

---

## Функциональность

- **Оплата подписки**  
  Пользователи могут оплатить подписку через встроенные платежи Telegram.

- **Выдача уникальных номеров**  
  После успешной оплаты пользователю выдается уникальный номер доступа.

- **База данных**  
  Система сохраняет информацию о пользователях, платежах и сроках подписки в формате JSON.

- **Проверка подписок**  
  Бот проверяет, активна ли подписка пользователя, а также следит за датой следующего платежа.

- **Генерация номеров**  
  Уникальные номера генерируются и сохраняются в отдельном текстовом файле `numbers.txt`.

- **Уведомления администратору**  
  Бот отправляет уведомления о платежах и других действиях администратору.

---

## Структура проекта

- **`config.py`**  
  Хранит конфиденциальные данные: токены бота, ID администратора и имена файлов.

- **`main.py`**  
  Основной скрипт бота, который обрабатывает команды, платежи и взаимодействия с пользователями.

- **`utils.py`**  
  Вспомогательные функции для работы с файлами, базой данных и номерами.

- **`random_number.py`**  
  Скрипт для генерации уникальных номеров доступа.

- **`database.json`**  
  JSON-файл для хранения данных пользователей и платежей.

- **`numbers.txt`**  
  Файл с доступными номерами.

- **`usernames.txt`**  
  Лог файл с именами пользователей и их номерами.

---

## Установка и настройка

### Клонирование репозитория

```bash
git clone <ссылка_на_репозиторий>
cd <название_папки>
```

## Настройка конфигурации

Откройте файл config.py и замените следующие значения:

- **TOKEN** — токен вашего бота
- **PAYMENTS_TOKEN** — токен платежного провайдера
- **YOUR_TELEGRAM_USER_ID** — ваш Telegram ID

### Генерация номеров

Запустите random_number.py, чтобы создать файл с номерами:

```bash
python random_number.py
```

Укажите длину и количество номеров при запуске.

## Запуск бота

Запустите main.py:

```bash
python main.py
```

## Использование

#### 1. Пользователь вводит команду /start, чтобы начать работу с ботом.

#### 2. Для оплаты подписки используется команда /buy или кнопка "Оплатить подписку".

#### 3. После успешного платежа пользователь получает уникальный номер доступа.

#### 4. Администратор получает уведомление о платеже.
